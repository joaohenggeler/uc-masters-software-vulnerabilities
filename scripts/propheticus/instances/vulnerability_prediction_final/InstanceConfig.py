import os
import sys

import propheticus.Config

sys.path.insert(0, os.path.normpath(os.path.join(os.path.abspath(__file__), '..', '..', '..', '..')))
from modules.common import log, GLOBAL_CONFIG
from modules.project import Project

log.info('Initializing the instance configuration.')

def get_prediction_class_descriptions():	
	prediction_classes = ['Non-Vulnerable', 'Vulnerable'] + list(GLOBAL_CONFIG['vulnerability_categories'].keys())
	return {index: value for index, value in enumerate(prediction_classes)}

class InstanceConfig(propheticus.Config):
	
	PROJECT_LIST = Project.get_project_list_from_config()

	# Override default configuration values.
	ClassesDescription = get_prediction_class_descriptions()